<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:fragment="head">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <title>SIGEBEX</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>

<body class="bg-slate-50">

<header th:fragment="header">
    <nav class="fixed top-0 left-0 right-0 z-50 bg-white/75 backdrop-blur border-b border-slate-200 shadow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-20">
            <div class="flex items-center justify-between h-full">

                <a th:href="@{/}" class="flex items-center gap-3">
                    <img th:src="@{/images/Logo.png}" alt="SIGEBEX" class="h-14 w-14 rounded-full">
                    <span class="flex flex-col leading-tight">
                        <span class="text-2xl font-bold text-sky-800 tracking-wide">SYNEXIS</span>
                        <span class="text-xs text-slate-500 uppercase font-bold">Control of external equipment</span>
                    </span>
                </a>

                <div class="hidden md:flex items-center gap-8">

                    <ul class="flex items-center gap-6 text-slate-700 font-medium">

                        <li>
                            <a th:href="@{/}" class="hover:text-sky-700 flex items-center gap-2 hover:underline underline-offset-4">
                                <i class="fa-solid fa-house"></i> Home
                            </a>
                        </li>

                        <li>
                            <a th:href="@{/viewDetail}" class="hover:text-sky-700 hover:underline underline-offset-4">
                                About
                            </a>
                        </li>

                        <li>
                            <a th:href="@{/contact}" class="hover:text-sky-700 hover:underline underline-offset-4">
                                Contact
                            </a>
                        </li>

                        <!-- EQUIPMENT — ADMIN + BIOMEDICO -->
                        <li sec:authorize="hasAnyRole('ADMIN', 'BIOMEDICO')">
                            <a th:href="@{/equipment}" class="hover:text-sky-700 hover:underline underline-offset-4">
                                Equipment
                            </a>
                        </li>

                        <!-- MOVEMENT — ADMIN + SEGURIDAD -->
                        <li sec:authorize="hasAnyRole('ADMIN', 'SEGURIDAD')">
                            <a th:href="@{/movementRecord}" class="hover:text-sky-700 hover:underline underline-offset-4">
                                Movements
                            </a>
                        </li>

                        <!-- USERS — SOLO ADMIN -->
                        <li sec:authorize="hasRole('ADMIN')">
                            <a th:href="@{/users}" class="hover:text-sky-700 hover:underline underline-offset-4">
                                Users
                            </a>
                        </li>

                    </ul>

                    <!-- BOTONES LOGIN / LOGOUT -->
                    <div class="flex items-center gap-3 ml-2">


                        <a th:href="@{/login}" sec:authorize="isAnonymous()"
                           class="inline-flex px-4 py-2 rounded-xl bg-sky-700 hover:bg-sky-900 text-white font-semibold transition-all shadow-sm">
                            Login
                        </a>


                        <form th:action="@{/logout}" method="post" sec:authorize="isAuthenticated()">
                            <button type="submit"
                                    class="inline-flex px-4 py-2 rounded-xl bg-slate-700 hover:bg-slate-900 text-white font-semibold transition-all shadow-sm">
                                Logout
                            </button>
                        </form>

                    </div>

                </div>

            </div>
        </div>
    </nav>
</header>

<footer th:fragment="footer"
        class="fixed bottom-0 left-0 w-screen text-center text-white py-2 bg-sky-800">
    <div class="max-w-7xl mx-auto px-6 lg:px-8 flex justify-center items-center gap-4">
        <img th:src="@{/images/Logo2.png}" alt="SIGEBEX" class="h-10 w-10 rounded-full">
        <p class="text-sm">© 2025 All rights reserved for SYNEXIS</p>
    </div>
</footer>

</body>
</html>
